#:kivy 1.10.1

<PlayerShip>:
    size_hint: None, None
    size: 10, 20
    canvas:
        Color: 
            rgb: (0, 1, 0)
        Rectangle:
            pos: self.pos
            size: self.size

<EnemyShip>:
    size_hint: None, None
    size: 40, 30
    canvas:
        Color: 
            rgb: (1, 0, 0)
        Ellipse:
            pos:self.pos
            size:self.size
        
<Debris>:
    size_hint: None, None
    height: 10
    width: self.height

    canvas:
        Color:
            rgb: (self.red, self.green, 0.)
        Rectangle:
            pos: self.pos
            size: self.size

<Bullet>:
    size_hint: None, None
    size: 2, 8

    canvas:
        Rectangle:
            pos: self.pos
            size: self.size

<PlayerBullet>:
    canvas.before:
        Color: 
            rgb: (0, 1, 0)

<EnemyBullet>:
    canvas.before:
        Color: 
            rgb: (1, 0, 0)

<ShooterGame>:
    Menu:
        id: menu
        size: root.size
    SpaceGame:
        menu: menu
        size: root.size

<SpaceGame>:
    name: "main"

    container: container

    canvas:
        Color: 
            rgb: (0, 0, 0)
        Rectangle:
            pos: self.pos
            size: root.size

    ActorsContainer:
        id: container

    AnchorLayout:
        anchor_x: "right"
        anchor_y: "top"
        size_hint: None, None
        size: root.size

        Button:
            size_hint: None, None
            size: 50, 25
            text: "Menu"
            on_release: root.manager.current = "menu"

    AnchorLayout:
        anchor_y: "bottom"
        size_hint_y: None

        BoxLayout:
            orientation: "horizontal"
            Label:
                text: "Score: {}".format(str(container.player.score))
                text_size: self.size
                halign: "left"
                padding: (5, 2)

            Label:
                text: "Lives: {}".format(str(container.player.lives))
                text_size: self.size
                halign: "right"
                padding: (10, 2)

<Menu>:
    name: "menu"
    but_launch: button1
    # but2: button2
    but3: button3

    canvas:
        Color: 
            rgba: (1, 1, 1, 0.1)
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "vertical"

        Button:
            id: button1
            font_size: 50
            background_color: (1, 1, 1, 0)
            center_x: root.width / 2
            top: root.top - 50
            text: "Play"
            on_release: root.manager.current = "main"

        # Button:
        #     id: button2
        #     font_size: 50
        #     background_color: (1, 1, 1, 0)
        #     center_x: root.width / 2
        #     top: root.top - 150
        #     text: "Options"
        #     on_release: print("TODO no options")
            
        Button:
            id: button3
            font_size: 50
            background_color: (1, 1, 1, 0)
            center_x: root.width / 2
            top: root.top - 250
            text: "Quit"
            on_release: app.stop()
